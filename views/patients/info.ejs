<!doctype html>

    <%- include /header.ejs %>

    <body ng-app="patients" ng-controller="InfoCtrl" ng-init="init('<%= patient_id %>')">

    <%- include /snap_header.ejs %>

      <div class="container" style="color: black; width: auto" >
        <h1>Patient Info</h1>
        <p>Patient ID: {{ patient.patient_id }}</p>
        <p>SSN: {{  patient.ssn }}</p>
        <p>Name: {{ patient.firstname +" "+ patient.lastname }}</p>
        <p>Address: {{ patient.address }}</p>
        <p>Email: {{ patient.email }}</p>
        <p>Gender: {{ patient.gender }}</p>
        <p>Bloodtype: {{ patient.blood_type }}</p>
        <h1>Tel:</h1>
          <ul ng-repeat="tel_num in patient.tel_number"> 
            <l>{{ tel_num }}</l>
          </ul>
        <button type="button" class="btn btn-primary" ng-click="showPhysicalRecordForm('create')">Create Physical Record</button>
        <button type="button" class="btn btn-info" ng-click="generatePhysicalRecord()">Generate Physical Record</button>
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Date</th>
              <th>Weight</th>
              <th>Height</th>
              <th>Blood pressure</th>
              <th>Pulse</th>
              <th>Temperature</th>
              <th>Modify</th>
            </tr>
          </thead>
          <tbody>
              <tr ng-repeat="physical_record in patient.physical_record"> 
              <td> {{ physical_record.date }} </td>
              <td> {{ physical_record.weight }}</td>
              <td> {{ physical_record.height }}</td>
              <td> {{ physical_record.blood_pressure }}</td>
              <td> {{ physical_record.pulse }}</td>
              <td> {{ physical_record.temperature }}</td>
              <td>
                  <span class="btn btn-info">
                    <i class="fa fa-pencil" ng-click="showPhysicalRecordForm('edit',physical_record)"></i>
                  </span>
                  <span class="btn btn-danger">
                    <i class="fa fa-trash-o" ng-click="removePhysicalRecord(patient.patient_id ,physical_record._id)"></i>
                  </span>
              </td>
              </tr>
            
          </tbody>
        </table>

        </div>

    <%- include /snap_footer.ejs %>

    <modal title="Physical Record Form" visible="showPhysModal">
      <form ng-submit="submitPhysicalRecord()">
        <input class="form-control hide" id="physId" ng-model="id"></input>
        <div class="form-group">
          <label for="weight">Weight</label>
          <input type="text" class="form-control" id="weight" placeholder="Enter weight" ng-model="weight"></input>
        </div>
        <div class="form-group">
          <label for="height">Height</label>
          <input type="text" class="form-control" id="height" placeholder="Enter height" ng-model="height"></input>
        </div>
        <div class="form-group">
          <label for="blood_pressure">Blood Pressure</label>
          <input type="text" class="form-control" id="blood_pressure" placeholder="Enter blood pressure" ng-model="blood_pressure"></input>
        </div>
        <div class="form-group">
          <label for="pulse">Pulse</label>
          <input type="text" class="form-control" id="pulse" placeholder="Enter pulse" ng-model="pulse"></input>
        </div>
        <div class="form-group">
          <label for="temperature">Temperature </label>
          <input type="text" class="form-control" id="temperature" placeholder="Enter temperature celcius" ng-model="temperature"></input>
        </div>
        <button type="submit" id="submit" class="btn btn-default">Submit</button>
      </form>
    </modal>
  </body>
</html>